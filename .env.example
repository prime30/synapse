# Supabase Configuration
# Get these from your Supabase project settings: https://app.supabase.com
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# AI Provider API Keys
# Anthropic: https://console.anthropic.com/
# OpenAI: https://platform.openai.com/api-keys
# Google AI Studio: https://aistudio.google.com/apikey
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_AI_API_KEY=

# Google Cloud / Vertex AI (optional, for production rate limits)
# Upgrade path from AI Studio -> Vertex AI when needed.
# GOOGLE_CLOUD_PROJECT=
# GOOGLE_APPLICATION_CREDENTIALS=

# Application Configuration
# Production: https://synapse.shop (no trailing slash)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Shopify OAuth (required for "Connect with Shopify" one-click button)
# Create a Shopify app in your Partner Dashboard or store admin.
# API Key = Client ID, API Secret = Client Secret.
SHOPIFY_API_KEY=
SHOPIFY_API_SECRET=

# Shopify token encryption (optional -- falls back to SUPABASE_SERVICE_ROLE_KEY hash)
# 32-byte hex string for AES-256-CBC encryption of Shopify access tokens.
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# SHOPIFY_ENCRYPTION_KEY=

# Shopify dev theme provisioning (optional)
# Public URL to a Shopify theme ZIP used when creating a dev theme per project.
# e.g. a GitHub release asset or other public zip URL.
SHOPIFY_DEV_THEME_ZIP_URL=

# Gorgias Chat Widget (optional)
# Get your Chat App ID from Gorgias: Settings > Chat > Installation
# Enables live chat in the in-app support panel.
NEXT_PUBLIC_GORGIAS_CHAT_ID=

# Gorgias API (optional, for support ticket forwarding)
# GORGIAS_DOMAIN=yourstore.gorgias.com
# GORGIAS_API_KEY=

# Support webhook (optional, fallback for ticket forwarding)
# SUPPORT_WEBHOOK_URL=

# Stripe (Billing)
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Overage metered price (Stripe Dashboard: Products → Overage Usage → Usage-based, $0.01/unit)
STRIPE_PRICE_OVERAGE_METERED=

# Margin: charge = cost * OVERAGE_MARKUP_MULTIPLIER (min 1.0)
OVERAGE_MARKUP_MULTIPLIER=2.0

# Cron (Vercel sends Authorization: Bearer CRON_SECRET to cron endpoints)
CRON_SECRET=

# Transactional Email (Resend)
# Get from https://resend.com/api-keys
RESEND_API_KEY=

# BYOK Encryption Key
# 32-byte hex string for AES-256-GCM encryption of user API keys
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=

# Dev Auto-Login (development only)
# Create a user in your Supabase project, then add credentials here
# to skip the sign-in screen entirely during local development.
DEV_AUTO_LOGIN_EMAIL=
DEV_AUTO_LOGIN_PASSWORD=

# ── Upstash Redis (optional -- caching + rate limiting) ──────────────
# Get these from https://console.upstash.com
# When unset, all caches fall back to in-memory Map (fine for local dev).
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
# Set to 'redis' or 'memory' to show cache backend in StatusBar (informational)
NEXT_PUBLIC_CACHE_BACKEND=memory

# ── AI Feature Flags ────────────────────────────────────────────────
# All default to false. Set to 'true' to enable each feature.
ENABLE_PROMPT_CACHING=false
ENABLE_ADAPTIVE_THINKING=false
ENABLE_STRUCTURED_OUTPUTS=false
ENABLE_STREAMING_TOOL_USE=false
ENABLE_CITATIONS=false
ENABLE_BATCH_PROCESSING=false

# Debug: log all tool_start/tool_end events during streaming (dev only)
# DEBUG_TOOLS=false
