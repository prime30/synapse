{% comment %}
  Product Gallery Section (Modular)
  Renders product media: images, videos, 3D models with multiple layout options.
  Communicates variant changes via custom events (product-variant-sync).
{% endcomment %}

{% comment %} Shared product state {% endcomment %}
{% assign shsd_product_details = product.metafields.sellersdash.shsdproducts %}
{% if shsd_product_details.product_type == 'shsd_parent' %}
  {% assign shsd_product_handles = product.handle %}
  {% assign shsd_product_handles = shsd_product_handles | concat: shsd_product_details.handles %}
  {% for shsd_handle in shsd_product_handles %}
    {% assign shsd_single_product = all_products[shsd_handle] %}
    {% assign shsd_product_variants = shsd_product_variants | concat: shsd_single_product.variants %}
    {% assign shsd_product_media = shsd_product_media | concat: shsd_single_product.media %}
    {% assign shsd_product_images = shsd_product_images | concat: shsd_single_product.images %}
  {% endfor %}
  {% assign shsd_product_options_with_values = shsd_product_details.options_with_values %}
{% else %}
  {% assign shsd_product_options_with_values = product.options_with_values %}
  {% assign shsd_product_variants = product.variants %}
  {% assign shsd_product_media = product.media %}
  {% assign shsd_product_images = product.images %}
{% endif %}

{%- liquid
  assign isProductAvailable = product.available
  if isProductAvailable and settings.variant_remove == '2'
    assign remove_soldout = true
  else
    assign remove_soldout = false
  endif

  assign se_stts = section.settings
  assign sid = section.id
  assign pr_sid = product.id | append: sid
  assign pr_variants = shsd_product_variants
  assign variants_size = pr_variants.size
  assign selected_variant = product.selected_variant
  assign pr_curent = settings.pr_curent

  if pr_curent == '1' and variants_size > 1
    assign current_variant = selected_variant
  elsif pr_curent == '2'
    assign current_variant = selected_variant | default: pr_variants.first
    if remove_soldout and current_variant.available == false and isProductAvailable
      assign current_variant = product.first_available_variant
    endif
  else
    assign current_variant = product.selected_or_first_available_variant
  endif

  assign PR_no_pick = false
  if pr_curent == '1' and variants_size > 1 and selected_variant == blank
    assign PR_no_pick = true
  endif
  assign isProductDefault = product.has_only_default_variant

  assign ck_so_un = false
  if isProductDefault == false and variants_size > 1
    assign unavailable_prs = pr_variants | where: 'available', false
    assign vls0 = shsd_product_options_with_values[0].values.size | default: 1
    assign vls1 = shsd_product_options_with_values[1].values.size | default: 1
    assign vls2 = shsd_product_options_with_values[2].values.size | default: 1
    assign ntvariants_size = vls0 | times: vls1 | times: vls2 | minus: pr_variants.size
    if unavailable_prs.size > 0 or product.available == false
      assign ck_so_un = true
    endif
  endif

  assign meta_theme = product.metafields.theme
  assign isExternal = false
  assign external_title = meta_theme.external_title
  assign external_link = meta_theme.external_link
  if external_title != blank and external_link != blank
    assign isExternal = true
  endif
  assign isGrouped = false
  if meta_theme.grouped != blank
    assign isGrouped = true
  endif

  assign custom_badge = meta_theme.custom_badge
  if custom_badge != blank
    assign arr_badge = custom_badge | replace: '  ', '' | replace: ' ;', ';' | replace: '; ', ';' | split: ';' | join: 'nt-t4s' | escape | split: 'nt-t4s'
    assign arr_badge_handle = arr_badge | join: 'nt-t4s' | handle | split: 'nt-t4s'
  endif

  assign media_layout = se_stts.media_layout
  assign product_media = shsd_product_media
  assign variant_images = shsd_product_images | where: 'attached_to_variant?', true | map: 'src'
  assign media_size = product_media.size

  if media_size < 1
    assign media_layout = 'no_media_size'
  elsif media_size == 1
    assign media_layout = 'one_media_size'
  elsif media_size == 2 and media_layout == 'slider_center'
    assign media_layout = 'without_thumbnails'
  endif

  assign canMedia_group = false
  assign mediaAlt = product_media | map: 'alt' | join: 'nt-t4s'
  if settings.use_group_media and variants_size > 1 and media_size > 1 and mediaAlt contains '_'
    assign canMedia_group = true
    if mediaAlt contains 't4option'
      assign ops_name = shsd_product_options_with_values | map: 'name'
      assign ops_name_1 = product.options_by_name[ops_name[0]].values
      assign ops_name_2 = product.options_by_name[ops_name[1]].values
      assign ops_name_3 = product.options_by_name[ops_name[2]].values
    endif
    unless PR_no_pick
      assign isMediaHidden = 'is--media-hide'
      assign current_option1 = current_variant.option1 | downcase
      assign current_option2 = current_variant.option2 | downcase
      assign current_option3 = current_variant.option3 | downcase
    endunless
  endif

  if mediaAlt contains 'break--360'
    assign has_media_360 = true
  else
    assign has_media_360 = false
  endif

  assign image_ratio = se_stts.image_ratio
  if image_ratio == 'ratioadapt'
    assign imgatt = ''
  else
    assign imgatt = 'data-'
  endif

  assign main_click = se_stts.main_click
  if main_click == 'pswp'
    assign class_pswp_disable = ''
  else
    assign class_pswp_disable = ' is-pswp-disable'
  endif

  assign enable_video_looping = se_stts.enable_video_looping
  assign enable_video_muting = se_stts.enable_video_muting
  assign enable_video_autoplaying = se_stts.enable_video_autoplaying

  case media_layout
    when 'thumbnails_left', 'thumbnails_bottom', 'thumbnails_right', 'without_thumbnails', 'slider_center'
      assign hasIsotope = false
    else
      assign hasIsotope = true
  endcase

  assign isSliderCenter = false
  if media_layout == 'slider_center'
    assign isSliderCenter = true
  endif

  if settings.enable_his and PR_no_pick == false
    assign enableHistoryState = settings.enable_his
  else
    assign enableHistoryState = false
  endif

  assign isSticky = false
  assign isStickyMB = false
  assign sticky_mode = se_stts.sticky_mode | default: '0'
  if sticky_mode != '0' and isGrouped == false and isProductAvailable and settings.atc_ajax_enable
    assign isSticky = true
    if sticky_mode == '2'
      assign isStickyMB = true
    endif
  endif

  assign inventory_quantity = current_variant.inventory_quantity
  assign inventory_management = current_variant.inventory_management
  if inventory_quantity <= 0 and inventory_management == 'shopify' and current_variant.available
    assign isPreoder = true
  else
    assign isPreoder = false
  endif

  case se_stts.media_size
    when 'small'
      assign height = 530
    when 'medium'
      assign height = 720
    when 'large'
      assign height = 1090
    when 'full'
      assign height = 1390
  endcase
-%}

{{ 'pre_flickityt4s.min.css' | asset_url | stylesheet_tag }}
{{ 'main-product.css' | asset_url | stylesheet_tag }}

<div
  class="t4s-product-gallery t4s-product-media__{{ media_layout }} t4s-product-thumb-size__{{ se_stts.thumb_lr_size }}"
  data-product-gallery
  data-product-id="{{ product.id }}"
  data-section-id="{{ sid }}"
  data-product-featured='{"id": "{{ product.id }}","isMainProduct": true, "sectionId": "{{ sid }}", "disableSwatch": {{ isProductDefault }}, "media": {% if media_size > 1 %}true{% else %}false{% endif %},"enableHistoryState": {{ enableHistoryState }}, "formID": "#product-form-{{ pr_sid }}", "removeSoldout": {{ remove_soldout }}, "changeVariantByImg": {{ settings.use_change_variant_by_img }}, "isNoPick": {{ PR_no_pick }},"hasSoldoutUnavailable": {{ ck_so_un }},"enable_zoom_click_mb": {{ se_stts.enable_zoom_click_mb }},"main_click": "{{ main_click }}","canMediaGroup": {{ canMedia_group }},"isGrouped": {{ isGrouped }},"hasIsotope": {{ hasIsotope }},"available": {{ product.available }}, "customBadge": {{ arr_badge | json }}, "customBadgeHandle": {{ arr_badge_handle | json }},"dateStart": {{ product.created_at | date: "%s" }}, "compare_at_price": {{ current_variant.compare_at_price | json }},"price": {{ current_variant.price | json }}, "isPreoder": {{ isPreoder }}, "showFirstMedia": {{ settings.show_first_media }}, "isSticky": {{ isSticky }}, "isStickyMB": {{ isStickyMB }}}'
>
  <div
    class="is-zoom-type__{{ se_stts.zoom_tp }}"
    data-t4s-zoom-main
    {% if main_click == 'zoom' %}
      data-zoom-options='{"type": "{{ se_stts.zoom_tp }}", "magnify": 2, "touch": false, "pr_type": "1","isZoomPR": true}'
    {% endif %}
  >
    {%- case media_layout -%}

      {%- when 'no_media_size' -%}
        {%- assign image = settings.placeholder_img -%}
        {%- if image != blank -%}
          <div class="t4s-product__info-container--sticky">
            <div class="t4s-product__no_media t4s-pr">
              <div
                data-t4s-gallery
                data-t4s-thumb-false
                data-main-media
                class="t4s-product__media-item t4s_{{ image_ratio }} t4s_position_{{ se_stts.image_position }} t4s_{{ se_stts.image_size }}"
              >
                <div
                  data-t4s-gallery--open
                  data-media-type="image"
                  class="t4s_ratio t4s-product__media{{ class_pswp_disable }}"
                  {{ imgatt }}style="--aspect-ratioapt: {{ image.aspect_ratio }};--mw-media: {{ image.width }}px"
                >
                  <noscript>
                    {{- image | image_url: width: 1500 | image_tag:
                      widths: '288, 576, 750, 1100, 1500',
                      class: 't4s-img-noscript',
                      loading: 'lazy',
                      sizes: '(min-width: 1500px) 1500px, (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)'
                    -}}
                  </noscript>
                  <img
                    data-master="{{ image | image_url }}"
                    class="lazyloadt4s t4s-lz--fadeIn"
                    data-src="{{ image | image_url: width: 1 }}"
                    data-widths="[100,200,400,600,700,800,900,1000,1200,1400,1600]"
                    data-optimumx="1.5"
                    data-sizes="auto"
                    src="{% render 'img_svg', w: image.width, h: image.height %}"
                    width="{{ image.width }}"
                    height="{{ image.height }}"
                    alt="{{ image.alt | escape }}"
                    loading="lazy"
                  >
                  <span class="lazyloadt4s-loader"></span>
                </div>
              </div>
              {% if customer %}
                <div
                  data-product-single-badge
                  data-sort="sale,new,soldout"
                  class="t4s-single-product-badge lazyloadt4s t4s-pa t4s-pe-none t4s-op-0"
                  data-rendert4s="css:{{ 'single-pr-badge.css' | asset_url }}"
                ></div>
              {% endif %}
              {%- render 'product-btns', se_stts: se_stts, product: product -%}
            </div>
          </div>
        {%- endif -%}

      {%- when 'one_media_size' -%}
        {%- assign media = product_media.first -%}
        <div class="t4s-product__info-container--sticky">
          <div data-product-single-media-group class="t4s-product__one_media t4s-pr">
            <div
              data-t4s-gallery
              data-t4s-thumb-false
              data-main-media
              class="t4s-row t4s-g-0 t4s-product__media t4s_{{ image_ratio }} t4s_position_{{ se_stts.image_position }} t4s_{{ se_stts.image_size }}"
            >
              {%- render 'product-thumbnail',
                media: media,
                imgatt: imgatt,
                variant_images: variant_images,
                loop: enable_video_looping,
                mute: enable_video_muting,
                autoplay: enable_video_autoplaying,
                height: height,
                sid: sid,
                class_pswp_disable: class_pswp_disable,
                variants_size: 1
              -%}
            </div>
            {% if customer %}
              <div
                data-product-single-badge
                data-sort="sale,new,soldout"
                class="t4s-single-product-badge lazyloadt4s t4s-pa t4s-pe-none t4s-op-0"
                data-rendert4s="css:{{ 'single-pr-badge.css' | asset_url }}"
              ></div>
            {% endif %}
            {%- render 'product-btns', se_stts: se_stts, product: product -%}
          </div>
        </div>

      {%- when 'thumbnails_left', 'thumbnails_bottom', 'thumbnails_right', 'without_thumbnails', 'slider_center' -%}
        {%- liquid
          if media_layout == 'thumbnails_left'
            assign class_main = 't4s-col-lg t4s-order-lg-last '
            assign class_thumb = 't4s-col-lg-auto t4s-order-lg-first '
          elsif media_layout == 'thumbnails_right'
            assign class_main = 't4s-col-lg '
            assign class_thumb = 't4s-col-lg-auto '
          elsif isSliderCenter and se_stts.media_size == 'full'
            assign class_gx_lg_main = ' t4s-g-md-30 '
          elsif isSliderCenter
            assign class_gx_lg_main = ' t4s-g-md-10 '
          else
            assign class_gx_lg = ' t4s-g-lg-10 '
          endif
        -%}
        {{ 'slider-settings.css' | asset_url | stylesheet_tag }}

        <div class="slick_gallery t4s-product__info-container--sticky" style="display:none;">
          {% if customer %}
            <div
              data-product-single-badge
              data-sort="sale,new,soldout"
              class="t4s-single-product-badge lazyloadt4s t4s-pa t4s-pe-none t4s-op-0"
              data-rendert4s="css:{{ 'single-pr-badge.css' | asset_url }}"
            ></div>
          {% endif %}
          <div class="slider_for"></div>
          <div class="slider_nav"></div>
        </div>

        <div class="slider_sec_main t4s-row t4s-g-0 t4s-product__info-container--sticky">
          <div data-product-single-media-group class="{{ class_main }}t4s-col-12 t4s-col-item t4s-pr">
            <div
              data-t4s-gallery
              data-main-media
              data-t4s-thumb-true
              class="t4s-row t4s-g-0{{ class_gx_lg_main }}{% unless isSliderCenter %} t4s-slide-eff-{{ se_stts.eff }}{% endunless %} flickityt4s t4s_{{ image_ratio }} t4s_position_{{ se_stts.image_position }} t4s_{{ se_stts.image_size }} t4s-flickity-slider {% if se_stts.nav_btn %}  t4s-slider-btn-{{ se_stts.nav_btn }} t4s-slider-btn-style-{{ se_stts.btn_owl }} t4s-slider-btn-{{ se_stts.btn_shape }}  t4s-slider-btn-{{ se_stts.btn_size }} t4s-slider-btn-cl-{{ se_stts.btn_cl }} t4s-slider-btn-vi-{{ se_stts.btn_vi }} t4s-slider-btn-hidden-mobile-{{ se_stts.btn_hidden_mobile }} {% endif %}{% if se_stts.nav_dot %} t4s-dots-style-{{ se_stts.dot_owl }} t4s-dots-cl-{{ se_stts.dots_cl }} t4s-dots-round-{{ se_stts.dots_round }} t4s-dots-hidden-mobile-{{ se_stts.dots_hidden_mobile }} {% endif %}"
              data-flickityt4s-js='{"t4sid": "{{ sid }}", "status": true, "cellSelector": "[data-main-slide]:not(.is--media-hide)","isFilter": {{ canMedia_group }}, "checkVisibility": false,"imagesLoaded": 0,"adaptiveHeight": 1, "contain": 1, "groupCells": "100%", "dragThreshold" : {% if se_stts.eff == 'fade' %}6{% else %}5{% endif %}, "cellAlign": "{% if isSliderCenter %}center{% else %}left{% endif %}","wrapAround": true,"prevNextButtons": {{ se_stts.nav_btn }},"percentPosition": 1,"pageDots": {{ se_stts.nav_dot }}, "autoPlay" : 0, "pauseAutoPlayOnHover" : true ,  "thumbNav": {% if media_layout != 'without_thumbnails' and isSliderCenter == false %}true{% else %}false{% endif %}, "thumbVertical": {% if media_layout != 'thumbnails_bottom' and isSliderCenter == false %}true{% else %}false{% endif %}, "isMedia": true }'
              style="--space-dots: {{ se_stts.dots_space }}px;"
            >
              {%- liquid
                for media in product_media
                  if media.preview_image and media.preview_image.alt contains 'break--360'
                    break
                  endif
                  render 'product-thumbnail', media: media, imgatt: imgatt, variant_images: variant_images, loop: enable_video_looping, mute: enable_video_muting, autoplay: enable_video_autoplaying, height: height, sid: sid, isMediaHidden: isMediaHidden, current_option1: current_option1, current_option2: current_option2, current_option3: current_option3, ops_name: ops_name, ops_name_1: ops_name_1, ops_name_2: ops_name_2, ops_name_3: ops_name_3, class_pswp_disable: class_pswp_disable, variants_size: variants_size
                endfor
                if has_media_360
                  render 'product-360', product: product, sid: sid
                endif
              -%}
              {%- if se_stts.nav_dot and se_stts.dot_owl == 'number' -%}
                <div class="flickityt4s-page-dots t4s-dots-list carousel--status{{ sid }}">
                  <span data-current-slide></span> / <span data-total-number></span>
                </div>
              {%- endif -%}
            </div>
            {% if customer %}
              <div
                data-product-single-badge
                data-sort="sale,new,soldout"
                class="t4s-single-product-badge lazyloadt4s t4s-pa t4s-pe-none t4s-op-0"
                data-rendert4s="css:{{ 'single-pr-badge.css' | asset_url }}"
              ></div>
            {% endif %}
            {%- render 'product-btns', se_stts: se_stts, product: product -%}
          </div>

          {%- if media_layout != 'without_thumbnails' and isSliderCenter == false -%}
            <div class="{{ class_thumb }}t4s-col-12 t4s-col-item t4s-col-thumb t4s-pr t4s-oh">
              <div
                data-thumb__scroller="{{ sid }}"
                class="t4s-carousel__nav-scroller is__position-{{ media_layout | remove: 'thumbnails_' }}"
              >
                <div class="t4s-row t4s-row-mt t4s-row-cols-4 t4s_{{ image_ratio }} t4s_position_{{ se_stts.image_position }} t4s_{{ se_stts.image_size }} {{ class_gx_lg }}t4s-g-5 t4s-carousel__nav carousel__nav--{{ sid }} carousel__nav-hover{{ se_stts.thumb_lr_hover }}">
                  {%- for media in product_media limit: 4 -%}
                    {%- assign image = media.preview_image -%}
                    <div class="t4s-col-item t4s-product__thumb-item">
                      <div
                        class="t4s_ratio t4s-product__thumb"
                        {{ imgatt }}style="--aspect-ratioapt: {{ image.aspect_ratio }}"
                      ></div>
                    </div>
                  {%- endfor -%}
                </div>
              </div>
              <button type="button" data-thumb-btn__prev="{{ sid }}" aria-label="Previous" class="btn_pnav_prev t4s-pa t4s-pe-none t4s-op-0"></button>
              <button type="button" data-thumb-btn__next="{{ sid }}" aria-label="Next" class="btn_pnav_next t4s-pa t4s-pe-none t4s-op-0"></button>
            </div>
          {%- endif -%}
        </div>

      {%- when 'one_column', 'two_columns', 'combined_grid' -%}
        {%- liquid
          if media_layout == 'one_column'
            assign class_col = 't4s-col-md-12 '
            assign row_g = '0'
          elsif media_layout == 'two_columns'
            assign class_col = 't4s-col-md-6 '
            assign row_g = '10'
          else
            assign class_col = 't4s-col-md-12 '
            assign row_g = '10'
          endif
        -%}
        <div class="t4s-row t4s-g-0 t4s-product__info-container--sticky">
          <div data-product-single-media-group class="{{ class_main }}t4s-col-12 t4s-col-item t4s-pr">
            <div
              data-media-sizes="{{ product_media.size }}"
              data-t4s-gallery
              data-t4s-thumb-true
              data-main-media
              class="t4s-main-media t4s-row t4s-g-{{ row_g }} t4s-slide-eff-{{ se_stts.eff }} flickityt4s isotopet4s isotopet4s-later carousel-disable-md t4s_{{ image_ratio }} t4s_position_{{ se_stts.image_position }} t4s_{{ se_stts.image_size }}{% if se_stts.nav_btn %} t4s-flickity-slider t4s-slider-btn-{{ se_stts.nav_btn }} t4s-slider-btn-style-{{ se_stts.btn_owl }} t4s-slider-btn-{{ se_stts.btn_shape }} t4s-slider-btn-{{ se_stts.btn_size }} t4s-slider-btn-cl-{{ se_stts.btn_cl }} t4s-slider-btn-vi-{{ se_stts.btn_vi }} t4s-slider-btn-hidden-mobile-{{ se_stts.btn_hidden_mobile }} {% endif %}"
              data-isotopet4s-js='{"transitionDuration": 0,"itemSelector-": "[data-main-slide]:not(.is--media-hide)","filter": "[data-main-slide]:not(.is--media-hide)", "layoutMode": "packery" }'
              data-flickityt4s-js='{"cellSelector": "[data-main-slide]:not(.is--media-hide)","isFilter": {{ canMedia_group }},"watchCSS": true, "checkVisibility": false,"imagesLoaded": 0,"adaptiveHeight": 1, "contain": 1, "groupCells": "100%", "dragThreshold" : {% if se_stts.eff == 'fade' %}6{% else %}5{% endif %}, "cellAlign": "left","wrapAround": true,"prevNextButtons": {{ se_stts.nav_btn }},"percentPosition": 1,"pageDots": false, "autoPlay" : 0, "pauseAutoPlayOnHover" : true , "t4sid": "{{ sid }}", "thumbNav": false, "thumbVertical": false, "isMedia": true }'
            >
              {%- liquid
                for media in product_media
                  if media.preview_image and media.preview_image.alt contains 'break--360'
                    break
                  endif
                  render 'product-thumbnail', media: media, imgatt: imgatt, variant_images: variant_images, loop: enable_video_looping, mute: enable_video_muting, autoplay: false, height: height, sid: sid, isMediaHidden: isMediaHidden, current_option1: current_option1, current_option2: current_option2, current_option3: current_option3, class_col: class_col, ops_name: ops_name, ops_name_1: ops_name_1, ops_name_2: ops_name_2, ops_name_3: ops_name_3, class_pswp_disable: class_pswp_disable, variants_size: variants_size
                endfor
                if has_media_360
                  render 'product-360', product: product, sid: sid
                endif
              -%}
            </div>
            <link href="{{ 'single-pr-badge.css' | asset_url }}" rel="stylesheet" media="print" onload="this.media='all'">
            {% if customer %}
              <div
                data-product-single-badge
                data-sort="sale,new,soldout"
                class="t4s-single-product-badge t4s-pa t4s-pe-none t4s-op-0"
              ></div>
            {% endif %}
            {%- render 'product-btns', se_stts: se_stts, product: product -%}
          </div>
        </div>
    {%- endcase -%}
  </div>
</div>

<script type="application/json" data-product-gallery-state>
  {
    "productId": {{ product.id | json }},
    "sectionId": {{ sid | json }},
    "currentVariantId": {{ current_variant.id | json }},
    "mediaCount": {{ media_size }},
    "canMediaGroup": {{ canMedia_group }}
  }
</script>

{% schema %}
{
  "name": "Product gallery",
  "tag": "section",
  "class": "t4s-section t4s-section-product-gallery t4s_tp_flickity",
  "settings": [
    {
      "type": "select",
      "id": "media_layout",
      "label": "Media layout",
      "default": "thumbnails_bottom",
      "options": [
        { "value": "thumbnails_left", "label": "Thumbnails left" },
        { "value": "thumbnails_bottom", "label": "Thumbnails bottom" },
        { "value": "thumbnails_right", "label": "Thumbnails right" },
        { "value": "without_thumbnails", "label": "Without thumbnails" },
        { "value": "one_column", "label": "One column" },
        { "value": "two_columns", "label": "Two columns" },
        { "value": "combined_grid", "label": "Combined grid" },
        { "value": "slider_center", "label": "Slider center" }
      ]
    },
    {
      "type": "select",
      "id": "media_size",
      "label": "Media size",
      "default": "medium",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" },
        { "value": "full", "label": "Full width" }
      ]
    },
    {
      "type": "select",
      "id": "thumb_lr_size",
      "label": "Thumbnail left/right size",
      "default": "medium",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ]
    },
    {
      "type": "select",
      "id": "thumb_lr_hover",
      "label": "Thumbnail left/right hover",
      "default": "1",
      "options": [
        { "value": "1", "label": "Style 1" },
        { "value": "2", "label": "Style 2" }
      ]
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "Image ratio",
      "default": "ratio1_1",
      "options": [
        { "value": "ratioadapt", "label": "Adapt to image" },
        { "value": "ratio1_1", "label": "1:1 Square" },
        { "value": "ratio2_3", "label": "2:3 Portrait" },
        { "value": "ratio3_4", "label": "3:4 Portrait" },
        { "value": "ratio4_3", "label": "4:3 Landscape" },
        { "value": "ratio16_9", "label": "16:9 Widescreen" }
      ]
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "Image size",
      "default": "cover",
      "options": [
        { "value": "cover", "label": "Cover" },
        { "value": "contain", "label": "Contain" }
      ]
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "default": "8",
      "options": [
        { "value": "1", "label": "Top left" },
        { "value": "2", "label": "Top center" },
        { "value": "3", "label": "Top right" },
        { "value": "4", "label": "Middle left" },
        { "value": "5", "label": "Middle center" },
        { "value": "6", "label": "Middle right" },
        { "value": "7", "label": "Bottom left" },
        { "value": "8", "label": "Bottom center" },
        { "value": "9", "label": "Bottom right" }
      ]
    },
    {
      "type": "select",
      "id": "main_click",
      "label": "Click action on main image",
      "default": "none",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "pswp", "label": "Open lightbox" },
        { "value": "zoom", "label": "Zoom" }
      ]
    },
    {
      "type": "select",
      "id": "zoom_tp",
      "label": "Zoom type",
      "default": "inner",
      "options": [
        { "value": "inner", "label": "Inner" },
        { "value": "lens", "label": "Lens" }
      ]
    },
    {
      "type": "checkbox",
      "id": "enable_zoom_icon",
      "label": "Enable zoom icon",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_zoom_click_mb",
      "label": "Enable zoom click on mobile",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "Enable video looping",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_video_muting",
      "label": "Enable video muting",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_video_autoplaying",
      "label": "Enable video autoplaying",
      "default": true
    },
    {
      "type": "select",
      "id": "eff",
      "label": "Slider transition effect",
      "default": "slide",
      "options": [
        { "value": "slide", "label": "Slide" },
        { "value": "fade", "label": "Fade" }
      ]
    },
    {
      "type": "checkbox",
      "id": "nav_btn",
      "label": "Show navigation buttons",
      "default": false
    },
    {
      "type": "select",
      "id": "btn_vi",
      "label": "Button visibility",
      "default": "hover",
      "options": [
        { "value": "hover", "label": "On hover" },
        { "value": "always", "label": "Always" }
      ]
    },
    {
      "type": "select",
      "id": "btn_owl",
      "label": "Button style",
      "default": "simple",
      "options": [
        { "value": "simple", "label": "Simple" },
        { "value": "default", "label": "Default" }
      ]
    },
    {
      "type": "select",
      "id": "btn_shape",
      "label": "Button shape",
      "default": "round",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "round", "label": "Round" },
        { "value": "square", "label": "Square" }
      ]
    },
    {
      "type": "select",
      "id": "btn_cl",
      "label": "Button color",
      "default": "dark",
      "options": [
        { "value": "dark", "label": "Dark" },
        { "value": "light", "label": "Light" }
      ]
    },
    {
      "type": "select",
      "id": "btn_size",
      "label": "Button size",
      "default": "small",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ]
    },
    {
      "type": "checkbox",
      "id": "btn_hidden_mobile",
      "label": "Hide buttons on mobile",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "nav_dot",
      "label": "Show navigation dots",
      "default": false
    },
    {
      "type": "select",
      "id": "dot_owl",
      "label": "Dot style",
      "default": "default",
      "options": [
        { "value": "default", "label": "Default" },
        { "value": "number", "label": "Number" },
        { "value": "elessi2", "label": "Line" }
      ]
    },
    {
      "type": "select",
      "id": "dots_cl",
      "label": "Dot color",
      "default": "dark",
      "options": [
        { "value": "dark", "label": "Dark" },
        { "value": "light", "label": "Light" }
      ]
    },
    {
      "type": "checkbox",
      "id": "dots_round",
      "label": "Round dots",
      "default": true
    },
    {
      "type": "range",
      "id": "dots_space",
      "min": 0,
      "max": 30,
      "step": 1,
      "label": "Dot spacing",
      "unit": "px",
      "default": 10
    },
    {
      "type": "checkbox",
      "id": "dots_hidden_mobile",
      "label": "Hide dots on mobile",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Product gallery"
    }
  ]
}
{% endschema %}
